<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.codeman.mapper.ResourceMapper">
    <select id="getResourceList" resultType="com.codeman.domain.Resource">
        SELECT
               res.id
               res.name
               res.category_id
               res.url
               res.description
               res.create_time

     FORM
         admin_role_relation arr
                LEFT JOIN role r ON arr.role_id = r.id
                LEFT JOIN role_resource_relation rrr ON r.id = rrr.role_id
                LEFT JOIN resource res ON rrr.resource_id = res.id

        WHERE
           arr.admin_id = #{adminId}
    </select>
</mapper>
